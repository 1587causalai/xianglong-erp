{"ast":null,"code":"export default {\n  name: 'SalesOrderDetail',\n  data() {\n    return {\n      order: {\n        items: [] // Ensure items is initialized\n      }\n    };\n  },\n  created() {\n    const orderId = this.$route.params.id;\n    if (orderId) {\n      this.fetchOrderDetails(orderId);\n    }\n  },\n  methods: {\n    fetchOrderDetails(orderId) {\n      // TODO: API call\n      console.log('Fetching sales order details for:', orderId);\n      this.order = {\n        sales_order_id: orderId,\n        order_no: 'SO2023001',\n        customer_name: '客户甲',\n        customer_id: '1',\n        order_date: '2023-01-10',\n        delivery_date: '2023-02-01',\n        order_status: 3,\n        total_amount: 5000,\n        order_remark: '加急订单',\n        items: [{\n          order_item_id: 1,\n          product_id: '1',\n          product_name: '示例产品A',\n          product_code: 'P001',\n          quantity: 50,\n          unit_price: 100,\n          delivered_quantity: 50\n        }]\n        // TODO: Add related shipment/invoice data if needed for display\n      };\n    },\n    getStatusText(status) {\n      const statusMap = {\n        0: '草稿',\n        1: '确认',\n        2: '部分发货',\n        3: '全部发货',\n        4: '完成',\n        5: '取消'\n      };\n      return statusMap[status] || '未知';\n    },\n    goBack() {\n      this.$router.push({\n        name: 'SalesOrderList'\n      });\n    }\n  },\n  filters: {\n    toFixed(value, count) {\n      if (isNaN(parseFloat(value))) return '0.00';\n      return parseFloat(value).toFixed(count || 2);\n    }\n  }\n};","map":{"version":3,"names":["name","data","order","items","created","orderId","$route","params","id","fetchOrderDetails","methods","console","log","sales_order_id","order_no","customer_name","customer_id","order_date","delivery_date","order_status","total_amount","order_remark","order_item_id","product_id","product_name","product_code","quantity","unit_price","delivered_quantity","getStatusText","status","statusMap","goBack","$router","push","filters","toFixed","value","count","isNaN","parseFloat"],"sources":["src/views/sales/SalesOrderDetail.vue"],"sourcesContent":["<template>\n  <div class=\"sales-order-detail-container\">\n    <h2>销售订单详情 - {{ order.order_no }}</h2>\n    <el-descriptions :column=\"2\" border>\n      <el-descriptions-item label=\"客户名称\">{{ order.customer_name }}</el-descriptions-item>\n      <el-descriptions-item label=\"订单日期\">{{ order.order_date }}</el-descriptions-item>\n      <el-descriptions-item label=\"交付日期\">{{ order.delivery_date }}</el-descriptions-item>\n      <el-descriptions-item label=\"订单状态\">\n        <el-tag>{{ getStatusText(order.order_status) }}</el-tag>\n      </el-descriptions-item>\n      <el-descriptions-item label=\"总金额\">{{ order.total_amount | toFixed(2) }}</el-descriptions-item>\n      <el-descriptions-item label=\"备注\">{{ order.order_remark }}</el-descriptions-item>\n    </el-descriptions>\n\n    <h3>订单明细</h3>\n    <el-table :data=\"order.items\" border style=\"width: 100%; margin-top:15px;\">\n      <el-table-column prop=\"product_name\" label=\"产品名称\"></el-table-column>\n      <el-table-column prop=\"product_code\" label=\"产品编码\"></el-table-column>\n      <el-table-column prop=\"quantity\" label=\"数量\"></el-table-column>\n      <el-table-column prop=\"unit_price\" label=\"单价\"></el-table-column>\n      <el-table-column prop=\"line_amount\" label=\"金额\">\n        <template slot-scope=\"scope\">\n          {{ (scope.row.quantity * scope.row.unit_price) | toFixed(2) }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"delivered_quantity\" label=\"已发货数量\"></el-table-column>\n    </el-table>\n\n    <!-- TODO: Add sections for related shipments, invoices, payments based on README -->\n    <div style=\"margin-top: 20px;\">\n        <el-button @click=\"goBack\">返回列表</el-button>\n        <!-- Add other actions like print, create shipment etc. -->\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SalesOrderDetail',\n  data() {\n    return {\n      order: {\n        items: [] // Ensure items is initialized\n      }\n    };\n  },\n  created() {\n    const orderId = this.$route.params.id;\n    if (orderId) {\n      this.fetchOrderDetails(orderId);\n    }\n  },\n  methods: {\n    fetchOrderDetails(orderId) {\n      // TODO: API call\n      console.log('Fetching sales order details for:', orderId);\n      this.order = {\n        sales_order_id: orderId,\n        order_no: 'SO2023001',\n        customer_name: '客户甲',\n        customer_id: '1',\n        order_date: '2023-01-10',\n        delivery_date: '2023-02-01',\n        order_status: 3,\n        total_amount: 5000,\n        order_remark: '加急订单',\n        items: [\n          { order_item_id: 1, product_id: '1', product_name:'示例产品A', product_code:'P001', quantity: 50, unit_price: 100, delivered_quantity: 50 },\n        ]\n        // TODO: Add related shipment/invoice data if needed for display\n      };\n    },\n    getStatusText(status) {\n      const statusMap = { 0: '草稿', 1: '确认', 2: '部分发货', 3: '全部发货', 4: '完成', 5: '取消' };\n      return statusMap[status] || '未知';\n    },\n    goBack() {\n      this.$router.push({ name: 'SalesOrderList' });\n    }\n  },\n  filters: {\n    toFixed(value, count) {\n        if (isNaN(parseFloat(value))) return '0.00';\n        return parseFloat(value).toFixed(count || 2);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.sales-order-detail-container {\n  padding: 20px;\n}\n.el-descriptions {\n    margin-top: 15px;\n}\n</style> "],"mappings":"AAqCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,MAAAC,OAAA,QAAAC,MAAA,CAAAC,MAAA,CAAAC,EAAA;IACA,IAAAH,OAAA;MACA,KAAAI,iBAAA,CAAAJ,OAAA;IACA;EACA;EACAK,OAAA;IACAD,kBAAAJ,OAAA;MACA;MACAM,OAAA,CAAAC,GAAA,sCAAAP,OAAA;MACA,KAAAH,KAAA;QACAW,cAAA,EAAAR,OAAA;QACAS,QAAA;QACAC,aAAA;QACAC,WAAA;QACAC,UAAA;QACAC,aAAA;QACAC,YAAA;QACAC,YAAA;QACAC,YAAA;QACAlB,KAAA,GACA;UAAAmB,aAAA;UAAAC,UAAA;UAAAC,YAAA;UAAAC,YAAA;UAAAC,QAAA;UAAAC,UAAA;UAAAC,kBAAA;QAAA;QAEA;MACA;IACA;IACAC,cAAAC,MAAA;MACA,MAAAC,SAAA;QAAA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA;MACA,OAAAA,SAAA,CAAAD,MAAA;IACA;IACAE,OAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAlC,IAAA;MAAA;IACA;EACA;EACAmC,OAAA;IACAC,QAAAC,KAAA,EAAAC,KAAA;MACA,IAAAC,KAAA,CAAAC,UAAA,CAAAH,KAAA;MACA,OAAAG,UAAA,CAAAH,KAAA,EAAAD,OAAA,CAAAE,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}