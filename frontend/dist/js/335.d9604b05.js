"use strict";(self["webpackChunkxianglong_erp_frontend"]=self["webpackChunkxianglong_erp_frontend"]||[]).push([[335],{9335:(t,e,o)=>{o.r(e),o.d(e,{default:()=>i});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"stock-out-form-container"},[e("h2",[t._v("创建出库单")]),e("el-form",{ref:"stockOutFormRef",attrs:{model:t.stockOutForm,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"事务编号",prop:"transaction_no"}},[e("el-input",{attrs:{placeholder:"系统自动生成或手动输入"},model:{value:t.stockOutForm.transaction_no,callback:function(e){t.$set(t.stockOutForm,"transaction_no",e)},expression:"stockOutForm.transaction_no"}})],1),e("el-form-item",{attrs:{label:"事务类型",prop:"transaction_type"}},[e("el-select",{attrs:{placeholder:"选择出库类型"},model:{value:t.stockOutForm.transaction_type,callback:function(e){t.$set(t.stockOutForm,"transaction_type",e)},expression:"stockOutForm.transaction_type"}},[e("el-option",{attrs:{label:"销售出库",value:2}}),e("el-option",{attrs:{label:"生产领料",value:3}})],1)],1),e("el-form-item",{attrs:{label:"事务日期",prop:"transaction_date"}},[e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.stockOutForm.transaction_date,callback:function(e){t.$set(t.stockOutForm,"transaction_date",e)},expression:"stockOutForm.transaction_date"}})],1),e("el-form-item",{attrs:{label:"参考单号",prop:"reference_no"}},[e("el-input",{attrs:{placeholder:"销售单号/生产工单等"},model:{value:t.stockOutForm.reference_no,callback:function(e){t.$set(t.stockOutForm,"reference_no",e)},expression:"stockOutForm.reference_no"}})],1),e("el-form-item",{attrs:{label:"仓库",prop:"warehouse_id"}},[e("el-select",{attrs:{placeholder:"选择仓库"},model:{value:t.stockOutForm.warehouse_id,callback:function(e){t.$set(t.stockOutForm,"warehouse_id",e)},expression:"stockOutForm.warehouse_id"}},[e("el-option",{attrs:{label:"主仓库",value:"1"}})],1)],1),e("h3",[t._v("出库明细")]),e("el-table",{staticStyle:{"margin-bottom":"15px"},attrs:{data:t.stockOutForm.details,border:""}},[e("el-table-column",{attrs:{label:"物料类型"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-select",{attrs:{placeholder:"类型"},model:{value:o.row.item_type,callback:function(e){t.$set(o.row,"item_type",e)},expression:"scope.row.item_type"}},[e("el-option",{attrs:{label:"产品",value:1}}),e("el-option",{attrs:{label:"配件",value:2}})],1)]}}])}),e("el-table-column",{attrs:{label:"物料编码/名称"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-select",{attrs:{placeholder:"选择物料"},model:{value:o.row.item_id,callback:function(e){t.$set(o.row,"item_id",e)},expression:"scope.row.item_id"}},[1===o.row.item_type?e("el-option",{attrs:{label:"示例产品A (P001)",value:"1"}}):t._e(),2===o.row.item_type?e("el-option",{attrs:{label:"示例配件X (C001)",value:"101"}}):t._e()],1)]}}])}),e("el-table-column",{attrs:{label:"库位"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{attrs:{placeholder:"出库库位"},model:{value:o.row.location_code_manual,callback:function(e){t.$set(o.row,"location_code_manual",e)},expression:"scope.row.location_code_manual"}})]}}])}),e("el-table-column",{attrs:{label:"数量"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input-number",{attrs:{min:.001,precision:3},model:{value:o.row.quantity,callback:function(e){t.$set(o.row,"quantity",e)},expression:"scope.row.quantity"}})]}}])}),e("el-table-column",{attrs:{label:"批次号"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-input",{model:{value:o.row.batch_no,callback:function(e){t.$set(o.row,"batch_no",e)},expression:"scope.row.batch_no"}})]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.removeItem(o.$index)}}},[t._v("移除")])]}}])})],1),e("el-button",{on:{click:t.addItem}},[t._v("添加出库项")]),e("el-form-item",{staticStyle:{"margin-top":"15px"},attrs:{label:"备注",prop:"transaction_remark"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.stockOutForm.transaction_remark,callback:function(e){t.$set(t.stockOutForm,"transaction_remark",e)},expression:"stockOutForm.transaction_remark"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交出库单")]),e("el-button",{on:{click:t.goBack}},[t._v("取消")])],1)],1)],1)},l=[];const r={name:"StockOutForm",data(){return{stockOutForm:{transaction_no:"",transaction_type:2,transaction_date:new Date,reference_no:"",warehouse_id:null,transaction_remark:"",created_by:"admin",details:[]}}},created(){this.addItem()},methods:{addItem(){this.stockOutForm.details.push({item_type:1,item_id:null,location_id:null,location_code_manual:"",quantity:1,batch_no:""})},removeItem(t){this.stockOutForm.details.splice(t,1)},submitForm(){console.log("Submitting Stock Out form:",this.stockOutForm),this.$message.success("出库单创建成功!")},goBack(){this.$router.push({name:"TransactionList"})}}},n=r;var s=o(1656),c=(0,s.A)(n,a,l,!1,null,"654891ae",null);const i=c.exports}}]);
//# sourceMappingURL=335.d9604b05.js.map