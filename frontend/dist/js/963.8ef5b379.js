"use strict";(self["webpackChunkxianglong_erp_frontend"]=self["webpackChunkxianglong_erp_frontend"]||[]).push([[963],{3963:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"adjustment-form-container"},[e("h2",[t._v("创建库存调整单")]),e("el-form",{ref:"adjustmentFormRef",attrs:{model:t.adjustmentForm,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"事务编号",prop:"transaction_no"}},[e("el-input",{attrs:{placeholder:"系统自动生成或手动输入"},model:{value:t.adjustmentForm.transaction_no,callback:function(e){t.$set(t.adjustmentForm,"transaction_no",e)},expression:"adjustmentForm.transaction_no"}})],1),e("el-form-item",{attrs:{label:"事务类型",prop:"transaction_type"}},[e("el-select",{attrs:{placeholder:"选择调整类型"},model:{value:t.adjustmentForm.transaction_type,callback:function(e){t.$set(t.adjustmentForm,"transaction_type",e)},expression:"adjustmentForm.transaction_type"}},[e("el-option",{attrs:{label:"库存调整",value:5}}),e("el-option",{attrs:{label:"盘点调整",value:6}})],1)],1),e("el-form-item",{attrs:{label:"事务日期",prop:"transaction_date"}},[e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.adjustmentForm.transaction_date,callback:function(e){t.$set(t.adjustmentForm,"transaction_date",e)},expression:"adjustmentForm.transaction_date"}})],1),e("el-form-item",{attrs:{label:"仓库",prop:"warehouse_id"}},[e("el-select",{attrs:{placeholder:"选择仓库"},model:{value:t.adjustmentForm.warehouse_id,callback:function(e){t.$set(t.adjustmentForm,"warehouse_id",e)},expression:"adjustmentForm.warehouse_id"}},[e("el-option",{attrs:{label:"主仓库",value:"1"}})],1)],1),e("h3",[t._v("调整明细")]),e("el-table",{staticStyle:{"margin-bottom":"15px"},attrs:{data:t.adjustmentForm.details,border:""}},[e("el-table-column",{attrs:{label:"物料类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-select",{attrs:{placeholder:"类型"},model:{value:a.row.item_type,callback:function(e){t.$set(a.row,"item_type",e)},expression:"scope.row.item_type"}},[e("el-option",{attrs:{label:"产品",value:1}}),e("el-option",{attrs:{label:"配件",value:2}})],1)]}}])}),e("el-table-column",{attrs:{label:"物料编码/名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-select",{attrs:{placeholder:"选择物料"},model:{value:a.row.item_id,callback:function(e){t.$set(a.row,"item_id",e)},expression:"scope.row.item_id"}},[1===a.row.item_type?e("el-option",{attrs:{label:"示例产品A (P001)",value:"1"}}):t._e(),2===a.row.item_type?e("el-option",{attrs:{label:"示例配件X (C001)",value:"101"}}):t._e()],1)]}}])}),e("el-table-column",{attrs:{label:"库位"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{placeholder:"库位编码"},model:{value:a.row.location_code_manual,callback:function(e){t.$set(a.row,"location_code_manual",e)},expression:"scope.row.location_code_manual"}})]}}])}),e("el-table-column",{attrs:{label:"调整数量"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input-number",{attrs:{precision:3,placeholder:"正为增,负为减"},model:{value:a.row.quantity,callback:function(e){t.$set(a.row,"quantity",e)},expression:"scope.row.quantity"}})]}}])}),e("el-table-column",{attrs:{label:"批次号"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{model:{value:a.row.batch_no,callback:function(e){t.$set(a.row,"batch_no",e)},expression:"scope.row.batch_no"}})]}}])}),e("el-table-column",{attrs:{label:"调整原因"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{placeholder:"如盘盈、盘亏、损坏等"},model:{value:a.row.detail_remark,callback:function(e){t.$set(a.row,"detail_remark",e)},expression:"scope.row.detail_remark"}})]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.removeItem(a.$index)}}},[t._v("移除")])]}}])})],1),e("el-button",{on:{click:t.addItem}},[t._v("添加调整项")]),e("el-form-item",{staticStyle:{"margin-top":"15px"},attrs:{label:"总体备注",prop:"transaction_remark"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.adjustmentForm.transaction_remark,callback:function(e){t.$set(t.adjustmentForm,"transaction_remark",e)},expression:"adjustmentForm.transaction_remark"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交调整单")]),e("el-button",{on:{click:t.goBack}},[t._v("取消")])],1)],1)],1)},l=[];const n={name:"AdjustmentForm",data(){return{adjustmentForm:{transaction_no:"",transaction_type:5,transaction_date:new Date,warehouse_id:null,transaction_remark:"",created_by:"admin",details:[]}}},created(){this.addItem()},methods:{addItem(){this.adjustmentForm.details.push({item_type:2,item_id:null,location_code_manual:"",quantity:0,batch_no:"",detail_remark:""})},removeItem(t){this.adjustmentForm.details.splice(t,1)},submitForm(){console.log("Submitting Adjustment form:",this.adjustmentForm),this.$message.success("库存调整单创建成功!")},goBack(){this.$router.push({name:"TransactionList"})}}},r=n;var s=a(1656),i=(0,s.A)(r,o,l,!1,null,"a754cfc0",null);const c=i.exports}}]);
//# sourceMappingURL=963.8ef5b379.js.map